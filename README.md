# rsb_parser

Утилита для разбора бинарных файлов формата DataForge (DF) с событиями, сериализованными через protobuf (`rsb_event.proto`).

## Возможности

- Чтение бинарных файлов с заголовком DataForge.
- Десериализация событий с помощью protobuf.
- Подробный структурированный вывод содержимого в текстовый файл (`output.txt`).
- Поддержка аргумента командной строки для задания имени файла вывода.

## Сейчас используются сгенерированные файлы `rsb_event.pb.cc` `rsb_event.pb.h`, под конкретный протокол. Для универсального применения к другим протоколам я вижу следующий путь:
в bash-скрипте генерировать эти файлы командой, подобной ```protoc -I=/home/dymasus/Downloads --cpp_out=/home/rsb_parser/proto_out /home/Downloads/rsb_event.proto``` (на вход принимать имя протокола как параметр), затем компилировать проект. Но в таком случае нужно адаптировать rsb_parser, чтобы он был способным читать и записывать структуру с произвольными полями.

## Использование

1. Скомпилируйте проект командой ```make``` , должны быть установлены следующие зависимости:

- C++20 или новее
- [protobuf](https://github.com/protocolbuffers/protobuf)
- Файл схемы protobuf: `rsb_event.proto`

2. Запустите проект
По умолчанию результат сохраняется в `output.txt`.
## Пример запуска с сохранением выхода в output.txt

```
./rsb_parser "filename.df"
```
## Пример запуска с сохранением выхода в пользоваетльский файл
```
./rsb_parser "filename.df" "custom_output.txt"
```

